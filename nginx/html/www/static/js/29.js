webpackJsonp([29],{I5nF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("m1as"),r=a("9/dF"),i={data:function(){return{withdrawStatustMap:n.a,detailStatusMap:r.a,searchForm:{mobile:"",withdrawStatus:""},dataList:[],pageIndex:1,pageSize:10,totalPage:0,dataListSelections:[]}},activated:function(){this.searchForm.mobile=this.$route.query.mobile,this.getDataList()},methods:{getDataList:function(){var t=this;this.$http({url:"/mall/userdetail/list",method:"get",params:{page:this.pageIndex,limit:this.pageSize,mobile:this.searchForm.mobile,withdrawStatus:this.searchForm.withdrawStatus}}).then(function(e){var a=e.data;a&&0===a.code?(t.dataList=a.page.records,t.totalPage=a.page.total):(t.dataList=[],t.totalPage=0)})},sizeChangeHandle:function(t){this.pageSize=t,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(t){this.pageIndex=t,this.getDataList()},selectionChangeHandle:function(t){this.dataListSelections=t},searchUserInfo:function(t){this.$router.push({name:"mall-user",query:{mobile:t}})},searchDetailInfo:function(t){this.$router.push({name:"mall-userdetail",query:{mobile:t}})},changeWithdrawStatus:function(t,e){var a=this,n="Y"===e?"通过":"驳回";this.$confirm("确定"+n+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http({url:"/mall/user/changewithdrawstatus",method:"post",data:{id:t,withdrawStatus:e}}).then(function(t){var e=t.data;e&&0===e.code&&(a.$message({message:"操作成功",type:"success",duration:1500}),a.getDataList())})}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},changeWithdrawPwd:function(t,e){var a=this;this.$prompt("提现密码","修改提现密码",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e,inputPattern:/^[0-9]{6,8}$/,inputErrorMessage:"提现密码为6-8为数字"}).then(function(e){var n=e.value;a.$http({url:"/mall/user/changewithdrawpwd",method:"post",data:{id:t,pwd:n}}).then(function(t){var e=t.data;e&&0===e.code&&(a.$message({message:"操作成功",type:"success",duration:1500}),a.getDataList())})}).catch(function(){a.$message({type:"info",message:"取消修改提现密码"})})},changeCreditLimit:function(t,e){var a=this;this.$prompt("授信额度","修改授信额度",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e,inputPattern:/^[0-9]\d*$/,inputErrorMessage:"授信额度需要为整数"}).then(function(e){var n=e.value;a.$http({url:"/mall/user/changecreditlimit",method:"post",data:{id:t,creditLimit:n}}).then(function(t){var e=t.data;e&&0===e.code&&(a.$message({message:"操作成功",type:"success",duration:1500}),a.getDataList())})}).catch(function(){a.$message({type:"info",message:"取消修改授信额度"})})},changeWalletAmount:function(t,e){var a=this;this.$prompt("钱包余额","修改钱包余额",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e,inputPattern:/^[0-9]\d*$/,inputErrorMessage:"钱包余额需要为整数"}).then(function(e){var n=e.value;a.$http({url:"/mall/user/changewalletamount",method:"post",data:{id:t,walletAmount:n}}).then(function(t){var e=t.data;e&&0===e.code&&(a.$message({message:"操作成功",type:"success",duration:1500}),a.getDataList())})}).catch(function(){a.$message({type:"info",message:"取消修改钱包余额"})})},changeWithdrawAmount:function(t,e){var a=this;this.$prompt("已提现额度","修改已提现额度",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:e,inputPattern:/^[0-9]\d*$/,inputErrorMessage:"已提现额度需要为整数"}).then(function(e){var n=e.value;a.$http({url:"/mall/user/changewithdrawamount",method:"post",data:{id:t,withdrawAmount:n}}).then(function(t){var e=t.data;e&&0===e.code&&(a.$message({message:"操作成功",type:"success",duration:1500}),a.getDataList())})}).catch(function(){a.$message({type:"info",message:"取消修改已提现额度"})})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-userdetail"},[a("el-form",{attrs:{inline:!0,model:t.searchForm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getDataList()}}},[a("el-form-item",[a("el-input",{attrs:{clearable:"",placeholder:"手机号",clearable:""},model:{value:t.searchForm.mobile,callback:function(e){t.$set(t.searchForm,"mobile",e)},expression:"searchForm.mobile"}})],1),t._v(" "),a("el-form-item",[a("el-select",{attrs:{clearable:"",placeholder:"提现状态"},model:{value:t.searchForm.withdrawStatus,callback:function(e){t.$set(t.searchForm,"withdrawStatus",e)},expression:"searchForm.withdrawStatus"}},t._l(t.withdrawStatustMap,function(t,e,n){return a("el-option",{key:n,attrs:{label:t,value:e}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){return t.getDataList()}}},[t._v("查询")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,border:""},on:{"selection-change":t.selectionChangeHandle}},[a("el-table-column",{attrs:{prop:"mobile","header-align":"center",align:"center",label:"手机号"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:!0,type:"success"},on:{click:function(a){return t.searchUserInfo(e.row.mobile)}}},[t._v(t._s(e.row.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"detailStatus","header-align":"center",align:"center",label:"资料状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"D"==e.row.detailStatus?"gray":"A"==e.row.detailStatus?"danger":"Y"==e.row.detailStatus?"success":"warning"},on:{click:function(a){return t.searchDetailInfo(e.row.mobile)}}},[t._v("\n       "+t._s(t.detailStatusMap[e.row.detailStatus])+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"creditLimit","header-align":"center",align:"center",label:"授信额度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.changeCreditLimit(e.row.id,e.row.creditLimit)}}},[t._v("\n       "+t._s(e.row.creditLimit)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"walletAmount","header-align":"center",align:"center",label:"钱包余额"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.changeWalletAmount(e.row.id,e.row.walletAmount)}}},[t._v("\n       "+t._s(e.row.walletAmount)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"withdrawAmount","header-align":"center",align:"center",label:"已提现额度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.changeWithdrawAmount(e.row.id,e.row.withdrawAmount)}}},[t._v("\n       "+t._s(e.row.withdrawAmount)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"withdrawPwd","header-align":"center",align:"center",label:"提现密码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.changeWithdrawPwd(e.row.id,e.row.withdrawPwd)}}},[t._v("\n       "+t._s(e.row.withdrawPwd)+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"withdrawStatus","header-align":"center",align:"center",label:"提现状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"small",type:"D"==e.row.withdrawStatus?"gray":"C"==e.row.withdrawStatus?"danger":"Y"==e.row.withdrawStatus?"success":"warning"}},[t._v("\n       "+t._s(t.withdrawStatustMap[e.row.withdrawStatus])+"\n      ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"150",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["D"!=e.row.withdrawStatus?a("div",["Y"!=e.row.withdrawStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.changeWithdrawStatus(e.row.id,"Y")}}},[t._v("审核通过")]):t._e(),t._v(" "),"N"!=e.row.withdrawStatus?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.changeWithdrawStatus(e.row.id,"N")}}},[t._v("审核驳回")]):t._e()],1):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.pageSize,total:t.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],1)},staticRenderFns:[]},o=a("VU/8")(i,s,!1,null,null,null);e.default=o.exports},m1as:function(t,e,a){"use strict";e.a={D:"未申请提现",C:"已提交，待处理",Y:"审核通过",N:"审核驳回"}}});